(()=>{"use strict";class e{constructor(e,t){this.props=e,this.state=t,this.rootElement=null,this.render=()=>this.rootElement,this.setState=e=>{for(const[t,s]of Object.entries(e))this.state[t]=s;this.render()}}}const t={};function s({keyName:e,onUp:s,onDown:n}){Object.assign(t,{[e]:{onDown:n,onUp:s}})}document.addEventListener("keydown",(e=>{t[e.code]&&t[e.code].onDown()})),document.addEventListener("keyup",(e=>{t[e.code]&&t[e.code].onUp()}));class n extends e{constructor(e,t){super(e,t),this.rootElement=document.createElement("button"),this.rootElement.className="black-key",this.sfxElement=document.querySelector(`#sfx-${e.keyName}`),this.onDown=()=>{this.rootElement.classList.add("key-pressed"),this.sfxElement.play()},this.onUp=()=>{this.rootElement.classList.remove("key-pressed"),this.sfxElement.pause(),this.sfxElement.currentTime=0},this.rootElement.addEventListener("mousedown",(()=>{this.onDown()})),this.rootElement.addEventListener("mouseup",(()=>{this.onUp()})),s({keyName:e.keyName,onUp:this.onUp,onDown:this.onDown}),this.render=()=>{const t=document.createTextNode(e.keyName);return this.rootElement.appendChild(t),this.rootElement}}}class o extends e{constructor(e,t){super(e,t),this.rootElement=document.createElement("div"),this.rootElement.className=`black-${2*e.keys.length+1}keys`,this.blackKeys=Array.from({length:e.keys.length},((t,s)=>new n({keyName:e.keys[s]},{}))),this.render=()=>(this.rootElement.appendChild(document.createElement("div")),this.blackKeys.forEach((e=>{this.rootElement.appendChild(e.render()),this.rootElement.appendChild(document.createElement("div"))})),this.rootElement)}}class r extends e{constructor(e,t){super(e,t),this.rootElement=document.createElement("button"),this.rootElement.className="white-key",this.sfxElement=document.querySelector(`#sfx-${e.keyName}`),this.onDown=()=>{this.rootElement.classList.add("key-pressed"),this.sfxElement.play()},this.onUp=()=>{this.rootElement.classList.remove("key-pressed"),this.sfxElement.pause(),this.sfxElement.currentTime=0},this.rootElement.addEventListener("mousedown",(()=>{this.onDown()})),this.rootElement.addEventListener("mouseup",(()=>{this.onUp()})),s({keyName:e.keyName,onUp:this.onUp,onDown:this.onDown}),this.render=()=>{const t=document.createTextNode(e.keyName);return this.rootElement.appendChild(t),this.rootElement}}}class i extends e{constructor(e,t){super(e,t),this.rootElement=document.createElement("div"),this.rootElement.className=`white-${2*e.keys.length-1}keys`,this.whiteKeys=Array.from({length:e.keys.length},((t,s)=>new r({keyName:e.keys[s]},{}))),this.render=()=>(this.whiteKeys.forEach((e=>{this.rootElement.appendChild(e.render())})),this.rootElement)}}class h extends e{constructor(e,t){super(e,t),this.rootElement=document.createElement("div"),this.rootElement.className=(5===e.keys.length?"five":"seven")+"-key",this.blackKeys=new o({keys:e.keys.filter(((e,t)=>t%2==1))},{}),this.whiteKeys=new i({keys:e.keys.filter(((e,t)=>t%2==0))},{}),this.render=()=>(this.rootElement.appendChild(this.blackKeys.render()),this.rootElement.appendChild(this.whiteKeys.render()),this.rootElement)}}(new class extends e{constructor(e,t){super(e,t),this.rootElement=document.querySelector("main"),this.keyBoards=[new h({keys:["KeyZ","KeyS","KeyX","KeyD","KeyC"]},{}),new h({keys:["KeyV","KeyG","KeyB","KeyH","KeyN","KeyJ","KeyM"]},{}),new h({keys:["Comma","KeyL","Period","Semicolon","Slash"]},{})],this.render=()=>{this.keyBoards.forEach((e=>{this.rootElement.appendChild(e.render())}))}}}).render()})();